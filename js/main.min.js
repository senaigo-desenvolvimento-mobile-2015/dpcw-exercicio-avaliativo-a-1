function Cliente(){}function Pessoa(){}function PessoaJuridica(){}function Telefone(){}function LocalStorageFactory(){}"undefined"==typeof Storage&&alert("Atenção!\n\nNão há suporte para o armazenamento em seu navegador atual.\nO que for feito, não será persistido.");var id=document.getElementById("identificador"),nome=document.getElementById("nome"),endereco=document.getElementById("endereco"),telefone=document.getElementById("telefone"),cpf=document.getElementById("cpf"),cnpj=document.getElementById("cnpj"),inscricaoEstadual=document.getElementById("inscricaoEstadual"),pessoafisica=document.getElementById("pessoafisica"),pessoajuridica=document.getElementById("Pessoajuridica"),divCnpj=document.getElementById("cnpjdiv"),divInscEstadual=document.getElementById("iediv"),divCpf=document.getElementById("cpfdiv"),listagem=document.getElementById("tblistagem"),tbFoot=document.getElementById("tbfoot"),cpf;Cliente.prototype=new Pessoa,Cliente.prototype.setCpf=function(a){this.cpf=a},Cliente.prototype.getCpf=function(){return this.cpf};var id,nome,endereco,telefone;Pessoa.prototype.setId=function(a){this.id=a},Pessoa.prototype.getId=function(){return this.id},Pessoa.prototype.setNome=function(a){this.nome=a},Pessoa.prototype.getNome=function(){return this.nome},Pessoa.prototype.setEndereco=function(a){this.endereco=a},Pessoa.prototype.getEndereco=function(){return this.endereco},Pessoa.prototype.setTelefone=function(a){this.telefone=a},Pessoa.prototype.getTelefone=function(){return this.telefone};var inscricaoEstadual,cnpj;PessoaJuridica.prototype=new Pessoa,PessoaJuridica.prototype.setInscricaoEstadual=function(a){this.inscricaoEstadual=a},PessoaJuridica.prototype.getInscricaoEstadual=function(){return this.inscricaoEstadual},PessoaJuridica.prototype.setCnpj=function(a){this.cnpj=a},PessoaJuridica.prototype.getCnpj=function(){return this.cnpj};var numero;Telefone.prototype.setNumero=function(a){this.numero=a},Telefone.prototype.getNumero=function(){return this.numero},LocalStorageFactory.prototype.salvar=function(a){localStorage.setItem(a.getId(),JSON.stringify(a))},LocalStorageFactory.prototype.editar=function(a){localStorage.setItem(a.getId(),JSON.stringify(a))},LocalStorageFactory.prototype.excluir=function(a){localStorage.removeItem(a)},LocalStorageFactory.prototype.consultarPorId=function(a){var b=localStorage.getItem(a);return JSON.parse(b)},LocalStorageFactory.prototype.listarTodos=function(){for(var a={},b=Object.keys(localStorage),c=b.length;c--;)a[c]=localStorage.getItem(b[c]);return a};var checkPessoaFisica=function(){divCnpj.classList.add("hidden"),divInscEstadual.classList.add("hidden"),divCpf.classList.remove("hidden"),inputClear()},checkPessoaJuridica=function(){divCnpj.classList.remove("hidden"),divInscEstadual.classList.remove("hidden"),divCpf.classList.add("hidden"),inputClear()},inputClear=function(){for(var a=document.getElementsByTagName("input"),b=0;b<a.length;b++)"text"==a[b].type&&(a[b].value="");id.focus()},salvar=function(){var a,b,c=new LocalStorageFactory;pessoafisica.checked?(b="Cliente",a=new Cliente,a.setCpf(cpf.value)):(b="PessoaJuridica",a=new PessoaJuridica,a.setCnpj(cnpj.value),a.setInscricaoEstadual(inscricaoEstadual.value)),a.setId(id.value),a.setNome(nome.value),a.setEndereco(endereco.value);var d=new Telefone;d.setNumero(telefone.value),a.setTelefone(d.getNumero()),c.salvar(a,b)},excluir=function(a){var b=new LocalStorageFactory;b.excluir(a),console.log(a)},listarItens=function(){var a,b,c,d,e=new LocalStorageFactory,f=e.listarTodos(),g=0;for(a in f)b=JSON.parse(f[a]),c=listagem.insertRow(listagem.rows.length),d=c.insertCell(c.cells.length),d.innerHTML=b.id,d=c.insertCell(c.cells.length),d.innerHTML=b.nome,d=c.insertCell(c.cells.length),d.innerHTML=b.endereco,d=c.insertCell(c.cells.length),d.innerHTML=b.telefone,d=c.insertCell(c.cells.length),"undefined"!=typeof b.cpf?d.innerHTML="CPF: "+b.cpf:d.innerHTML="CNPJ: "+b.cnpj+" IE.:"+b.inscricaoEstadual,d=c.insertCell(c.cells.length),d.setAttribute("align","center"),d.innerHTML='<button type="button" name="button" title="Editar" alt="Editar" onclick="editar('+b.id+');">&#x261D;</button> <button type="button" name="button" title="Excluir" alt="Excluir" onclick="excluir('+b.id+');">&#x2672;</button>',g++;tbFoot.innerHTML="Total de registros: "+g};